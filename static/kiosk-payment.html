<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CastAI - ê²°ì œ</title>
    <link rel="stylesheet" href="/static/kiosk.css">
</head>
<body class="kiosk-body">
    <div class="kiosk-container">
        <header class="kiosk-header">
            <h1>CastAI</h1>
            <p>ê²°ì œ ë°©ë²•ì„ ì„ íƒí•´ì£¼ì„¸ìš”</p>
        </header>

        <div class="payment-info-bar">
            <span class="selected-style" id="selectedStyle">ë¦¬ì–¼ (ë²„ë¸”í—¤ë“œ)</span>
            <span class="payment-amount">5,000ì›</span>
        </div>

        <div class="payment-methods">
            <div class="payment-card" id="cardPayment">
                <div class="payment-icon">ğŸ’³</div>
                <h2>ì‹ ìš©ì¹´ë“œ</h2>
                <p>ì¹´ë“œë¥¼ ë‹¨ë§ê¸°ì— ì‚½ì…í•´ì£¼ì„¸ìš”</p>
            </div>

            <div class="payment-card" id="mobilePayment">
                <div class="payment-icon">ğŸ“±</div>
                <h2>ê°„í¸ê²°ì œ</h2>
                <p>ì‚¼ì„±í˜ì´, ì¹´ì¹´ì˜¤í˜ì´ ë“±</p>
            </div>
        </div>

        <div class="kiosk-footer">
            <button class="kiosk-btn secondary" id="backBtn">
                ë’¤ë¡œê°€ê¸°
            </button>
        </div>
    </div>

    <div class="payment-overlay hidden" id="paymentOverlay">
        <div class="payment-modal">
            <div class="payment-status">
                <div class="payment-spinner" id="paymentSpinner"></div>
                <div class="payment-complete-icon hidden" id="completeIcon">âœ“</div>
            </div>
            <h2 class="payment-title" id="paymentTitle">ê²°ì œ ëŒ€ê¸°ì¤‘</h2>
            <p class="payment-message" id="paymentMessage">ì¹´ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”</p>
            <button class="kiosk-btn secondary hidden" id="closePaymentBtn">í™•ì¸</button>
        </div>
    </div>

    <script>
        const cardPayment = document.getElementById('cardPayment');
        const mobilePayment = document.getElementById('mobilePayment');
        const backBtn = document.getElementById('backBtn');
        const paymentOverlay = document.getElementById('paymentOverlay');
        const paymentTitle = document.getElementById('paymentTitle');
        const paymentMessage = document.getElementById('paymentMessage');
        const paymentSpinner = document.getElementById('paymentSpinner');
        const completeIcon = document.getElementById('completeIcon');
        const closePaymentBtn = document.getElementById('closePaymentBtn');

        const urlParams = new URLSearchParams(window.location.search);
        const style = urlParams.get('style');
        const styleNames = {
            'real_bubblehead': 'ë¦¬ì–¼ (ë²„ë¸”í—¤ë“œ)',
            'semi_realistic': 'ë°˜ì‹¤ì‚¬ (3D)',
            'character': 'ìºë¦­í„°'
        };
        if (style && styleNames[style]) {
            document.getElementById('selectedStyle').textContent = styleNames[style];
        }

        cardPayment.addEventListener('click', () => {
            showPaymentModal('card');
        });

        mobilePayment.addEventListener('click', () => {
            showPaymentModal('mobile');
        });

        backBtn.addEventListener('click', () => {
            window.location.href = '/static/kiosk-select.html';
        });

        closePaymentBtn.addEventListener('click', () => {
            paymentOverlay.classList.add('hidden');
            paymentSpinner.classList.remove('hidden');
            completeIcon.classList.add('hidden');
            closePaymentBtn.classList.add('hidden');
        });

        function showPaymentModal(type) {
            paymentOverlay.classList.remove('hidden');
            paymentSpinner.classList.remove('hidden');
            completeIcon.classList.add('hidden');
            closePaymentBtn.classList.add('hidden');
            
            if (type === 'card') {
                paymentTitle.textContent = 'ê²°ì œ ëŒ€ê¸°ì¤‘';
                paymentMessage.textContent = 'ì¹´ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”';
                
                setTimeout(() => {
                    paymentSpinner.classList.add('hidden');
                    completeIcon.classList.remove('hidden');
                    paymentTitle.textContent = 'ê²°ì œê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤';
                    paymentMessage.textContent = 'ìºë¦­í„° ìƒì„±ì„ ì‹œì‘í•©ë‹ˆë‹¤';
                    closePaymentBtn.classList.remove('hidden');
                }, 3000);
            } else {
                paymentTitle.textContent = 'ê²°ì œ ëŒ€ê¸°ì¤‘';
                paymentMessage.textContent = 'ìŠ¤ë§ˆíŠ¸í°ì˜ ê°„í¸ê²°ì œ í™”ë©´ì—ì„œ ê²°ì œë¥¼ ì§„í–‰í•´ì£¼ì„¸ìš”';
            }
        }
    </script>
</body>
</html>
